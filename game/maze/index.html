<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Camcookie Maze</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <!-- SETTINGS BUTTON -->
  <button id="btn-settings">⚙️</button>

  <!-- SETTINGS MODAL -->
  <div id="settingsModal" class="hidden">
    <div class="modal-backdrop"></div>
    <div class="modal">
      <h2>Settings (Admin Only)</h2>
      <label>Border Color:
        <input type="color" id="setting-border-color" value="#222222">
      </label>
      <label>Theme:
        <select id="setting-theme">
          <option value="light">Light</option>
          <option value="dark">Dark</option>
          <option value="neon">Neon</option>
        </select>
      </label>
      <label><input type="checkbox" id="setting-audio"> Audio</label>
      <button id="settingsSave">Save</button>
      <button id="settingsCancel">Cancel</button>
    </div>
  </div>

  <!-- 1) CHOOSE MODE -->
  <div id="choose" class="screen">
    <h1>Camcookie Maze</h1>
    <button id="btn-solo">Play Solo</button>
    <button id="btn-live">Play Live</button>
  </div>

  <!-- 2A) LIVE: CREATE ROOM -->
  <div id="live-create" class="screen hidden">
    <h1>Create Room</h1>
    <input id="live-name-create" placeholder="Username">
    <label>Your Color:
      <input type="color" id="live-color-create" value="#FF5555">
    </label>
    <button id="btn-create">Create</button>
    <button id="btn-to-join">Join a Room</button>
    <p id="live-err-create" class="error"></p>
  </div>

  <!-- 2B) LIVE: JOIN ROOM -->
  <div id="live-join" class="screen hidden">
    <h1>Join Room</h1>
    <input id="live-name-join" placeholder="Username">
    <label>Your Color:
      <input type="color" id="live-color-join" value="#55FF55">
    </label>
    <button id="btn-qr-join">Scan QR (or click)</button>

    <div id="invalid-qr" class="screen hidden">
      <h1>Invalid QR Code</h1>
      <p>Enter join code below:</p>
      <input id="invalid-code-input" placeholder="Room Code">
      <button id="invalid-join-btn">Join</button>
    </div>

    <div id="join-code-entry">
      <input id="live-code" placeholder="Room Code">
      <button id="btn-join">Join</button>
    </div>

    <button id="btn-to-create">Create Instead</button>
    <p id="live-err-join" class="error"></p>
  </div>

  <!-- 3) LOBBY -->
  <div id="lobby-screen" class="screen hidden">
    <h1>Room: <span id="room-code"></span></h1>
    <div id="qr-code"></div>
    <p>Join Code: <span id="room-code-copy"></span></p>
    <ul id="players-list"></ul>

    <div>
      <label>View:
        <select id="view-mode">
          <option value="play">Play</option>
          <option value="map">Map</option>
        </select>
      </label>
      <label>Levels:
        <input type="number" id="level-count" min="1" value="3">
      </label>
    </div>

    <button id="btn-start">Start Game</button>
  </div>

  <!-- 4) PLAY -->
  <div id="play-screen" class="screen hidden">
    <canvas id="playCanvas"></canvas>
    <div id="levelSplash"></div>
    <div id="timerDisplay" class="hidden"></div>
    <div id="fpsCounter" class="hidden"></div>
  </div>

  <!-- 5) MAP -->
  <div id="map-screen" class="screen hidden">
    <canvas id="mapCanvas"></canvas>
    <div id="leaderboard"></div>
  </div>

  <!-- PeerJS, QRCode, main script -->
  <script src="https://unpkg.com/peerjs@1.4.7/dist/peerjs.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
  <script src="https://camcookie876.github.io/game/maze/script.js"></script>
</body>
</html>