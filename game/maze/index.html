<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Camcookie Maze</title>
  <style>
/* RESET & BASE */
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}
html, body {
  width: 100%;
  height: 100%;
  overflow: hidden;
  font-family: 'Segoe UI', sans-serif;
  background: #111;
  color: #fff;
}
body.light {
  --bg: #f0f0f0;
  --fg: #111;
  --btn-bg: #fff;
  --btn-fg: #333;
}
body.light button {
  background: var(--btn-bg);
  color: var(--btn-fg);
}
body.dark {
  --bg: #000;
  --fg: #eee;
  --btn-bg: #333;
  --btn-fg: #fff;
}
body.neon {
  --bg: #111;
  --fg: #0f0;
  --btn-bg: #0f0;
  --btn-fg: #111;
}

/* UNSELECTABLE UI */
body, button, canvas, .screen {
  user-select: none;
}
input, select, textarea {
  user-select: text;
}

/* BUTTONS & INPUTS */
button, input, select {
  font-size: 1rem;
  padding: 0.8rem 1.2rem;
  margin: 0.5rem;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  transition: transform 0.2s, box-shadow 0.2s;
}
button {
  background: var(--btn-bg);
  color: var(--btn-fg);
}
button:hover {
  transform: scale(1.05);
  box-shadow: 0 4px 8px rgba(0,0,0,0.3);
}
input, select {
  background: #fff;
  color: #333;
  box-shadow: 0 2px 4px rgba(0,0,0,0.2);
}
input:focus, select:focus {
  outline: none;
  box-shadow: 0 0 0 3px #ffe100;
}

/* LAYOUT */
.screen {
  position: absolute;
  top: 0; left: 0;
  width: 100vw;
  height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  background: linear-gradient(135deg, #667eea, #764ba2);
  text-align: center;
}
.hidden {
  display: none !important;
}
h1 {
  font-size: 2.5rem;
  margin-bottom: 1rem;
}
ul {
  list-style: none;
  padding: 0;
}
canvas {
  display: block;
  width: 100vw;
  height: 100vh;
  background: var(--bg);
}

/* SETTINGS BUTTON */
.settings-btn {
  position: absolute;
  top: 1rem;
  left: 1rem;
  z-index: 100;
  font-size: 1.5rem;
  background: var(--btn-bg);
  color: var(--btn-fg);
}

/* SETTINGS MODAL */
.modal-backdrop {
  position: fixed;
  top: 0; left: 0;
  width: 100vw;
  height: 100vh;
  background: rgba(0,0,0,0.7);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 200;
}
.modal {
  background: #222;
  padding: 2rem;
  border-radius: 12px;
  width: 80vw;
  max-width: 400px;
  color: #fff;
  text-align: left;
  position: relative;
}
.modal h2 {
  margin-bottom: 1rem;
}
.modal label {
  display: block;
  margin: 0.8rem 0;
}
.modal button {
  margin-top: 1rem;
}

/* TIMER DISPLAY */
#timerDisplay {
  position: absolute;
  top: 1rem;
  left: 50%;
  transform: translateX(-50%);
  background: rgba(0,0,0,0.6);
  padding: 0.5rem 1rem;
  border-radius: 6px;
  font-size: 1.2rem;
  z-index: 50;
}

/* FPS COUNTER */
#fpsCounter {
  position: absolute;
  top: 1rem;
  right: 1rem;
  background: rgba(0,0,0,0.6);
  padding: 0.5rem 1rem;
  border-radius: 6px;
  font-size: 1rem;
  z-index: 50;
  color: #ff0;
}

/* LEVEL SPLASH */
#levelSplash {
  position: absolute;
  top: 40%;
  width: 100%;
  text-align: center;
  font-size: 3rem;
  color: #ffe100;
  opacity: 0;
  pointer-events: none;
  animation: splashIn 1.2s ease-out;
  z-index: 50;
}
@keyframes splashIn {
  0%   { opacity: 0; transform: scale(0.5); }
  50%  { opacity: 1; transform: scale(1.2); }
  100% { opacity: 0; transform: scale(1); }
}

/* LEADERBOARD */
#leaderboard {
  position: absolute;
  top: 1rem;
  right: 1rem;
  background: rgba(0,0,0,0.6);
  padding: 1rem;
  border-radius: 8px;
  color: #0f0;
  font-size: 1rem;
  line-height: 1.4;
  z-index: 20;
}
  </style>
</head>
<body class="light">

  <!-- Settings button & modal markup (unchanged) â€¦ -->

  <!-- 1) CHOOSE -->
  <div id="choose" class="screen">
    <h1>Camcookie Maze</h1>
    <button id="btn-solo">Play Solo</button>
    <button id="btn-live">Play Live</button>
  </div>

  <!-- 2) LIVE LOGIN -->
  <div id="live-login" class="screen hidden">
    <h1>Live Room</h1>
    <input id="live-name" placeholder="Your username" />
    <button id="btn-create">Create Room</button>
    <input id="live-code" placeholder="Room code" />
    <button id="btn-join">Join Room</button>
    <p id="live-err" style="color:#f88;"></p>
  </div>

  <!-- 3) LOBBY -->
  <div id="lobby-screen" class="screen hidden">
    <h1>Room: <span id="room-code"></span></h1>
    <ul id="players-list"></ul>
    <div>
      <label>View:
        <select id="view-mode">
          <option value="play">Play</option>
          <option value="map">Map</option>
        </select>
      </label>
      <label>Levels:
        <input id="level-count" type="number" min="1" value="3" style="width:4rem;" />
      </label>
    </div>
    <button id="btn-start">Start Game</button>
    <p>Share Link:</p>
    <input id="share-link" readonly style="width:80%;" />
  </div>

  <!-- 4) PLAY -->
  <div id="play-screen" class="hidden">
    <canvas id="playCanvas"></canvas>
    <div id="levelSplash"></div>
    <div id="timerDisplay" class="hidden"></div>
    <div id="fpsCounter" class="hidden"></div>
  </div>

  <!-- 5) MAP -->
  <div id="map-screen" class="hidden">
    <canvas id="mapCanvas"></canvas>
    <div id="leaderboard"></div>
  </div>

  <!-- SOCKET.IO CLIENT (local copy) -->
  <script src="https://camcookie876.github.io/game/maze/socket.io.min.js"></script>
  <!-- MAINTENANCE REDIRECT -->
  <script src="https://camcookie876.github.io/game/maze/redirect.js?web=game"></script>
  <!-- MAIN LOGIC -->
  <script src="https://camcookie876.github.io/game/maze/script.js"></script>
  <!-- Disable right-click except in inputs -->
  <script>
    document.addEventListener('contextmenu', e => {
      const tag = e.target.tagName.toLowerCase();
      if (tag!=='input' && tag!=='textarea') e.preventDefault();
    });
    // Prevent text selection except in fields
    document.body.style.userSelect = 'none';
  </script>
</body>
</html>